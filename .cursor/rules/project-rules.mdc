---
description: 
globs: 
alwaysApply: false
---
# ğŸ§­ Coding Rules â€“ Showmate (Cursor Project)

## ğŸ”¤ Langage
- Utiliser **TypeScript** pour tout le projet.
- Ne jamais utiliser `any` sauf cas exceptionnel commentÃ©.
- Typage strict des props, fonctions, Firestore data.


## ğŸ“ Structure de Dossier (Next.js App Router)
```bash
  /app # Pages (App Router)
  /components # Composants rÃ©utilisables
  /lib # Utilitaires (ex: Firebase, helpers)
  /hooks # Hooks personnalisÃ©s
  /styles # Fichiers CSS globaux ou thÃ¨mes
  /types # Types globaux TS (ex: User, Project)
```

## ğŸ¨ Styling
- Utiliser **Tailwind CSS** exclusivement.
- Pas de classes inline complexes dans le JSX : crÃ©er des composants stylisÃ©s si besoin.
- Utiliser `lucide-react` pour intÃ©grer des icon / icons
- Utiliser `clsx` ou `tailwind-merge` pour combiner les classes dynamiquement.
- Utiliser des **classes Tailwind nommÃ©es en ordre logique** :
  `px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700`

---

## ğŸ§  Logique & Bonnes pratiques React
- Utiliser les **Functional Components** uniquement.
- Toutes les pages privÃ©es doivent Ãªtre wrappÃ©es dans <ProtectedRoute>...</ProtectedRoute>
- Les loading doivent Ãªtre utilisÃ© depuis [Loading.tsx](mdc:showmate/src/components/ui/Loading.tsx)
- Les donnÃ©es doivent Ãªtre stockÃ©es en local en respectant [local-storage.mdc](mdc:showmate/.cursor/rules/local-storage.mdc)
- Ne jamais mettre de logique dans les composants si elle peut Ãªtre extraite (hooks).
- PrÃ©fÃ©rer les `server components` dans `/app`, sauf sâ€™il y a besoin de `useState`, `useEffect`, etc.
- Les hooks personnalisÃ©s vont dans `/hooks`.
- Utiliser [notify.ts](mdc:showmate/src/lib/notify.ts) lors de validation de form.

---

## ğŸ” Firebase & Auth
- la configuration de [firebase.ts](mdc:showmate/src/lib/firebase.ts) se situe `src/lib/firebase.ts`
- Les accÃ¨s utilisateurs sont gÃ©rÃ©s via **Firebase Auth**.
- CrÃ©er un hook `useAuth` avec `onAuthStateChanged` ou `useAuthState` de `react-firebase-hooks`.
- Utiliser `Firebase Rules` pour sÃ©curiser Firestore (lecture/Ã©criture par rÃ´les).

---

## ğŸ§¾ Firestore
- Les accÃ¨s Firestore se font via des fonctions dans `/lib/firebase.ts`.
- Organiser les donnÃ©es en collections clairement dÃ©finies :
  - `/users/{uid}`
  - `/projects/{projectId}`
  - `/projects/{projectId}/plannings/{day}`
- Toujours valider les donnÃ©es avec **Zod** avant envoi ou traitement.

---

## ğŸ“„ Composants
- Chaque composant dans son propre fichier.
- Props typÃ©es avec `interface` ou `type`.
- Exporter les composants par dÃ©faut (`export default`).
- Documenter si nÃ©cessaire via commentaires `//`.

---

## ğŸ§ª Tests
- Pas requis au dÃ©part, mais prÃ©voir des composants testables.
- Composants purs sans side-effects sont prioritaires pour les tests.

---

## ğŸ§¼ Formatage & Lint
- Utiliser **Prettier** pour formatage auto.
- Utiliser **ESLint** avec rÃ¨gles React, TypeScript, Next.js et Tailwind.


---

## ğŸ†˜ Comment nommer un composant ou un hook ?
- Composants : `ProjectCard`, `ServiceSheet`, `TechList`
- Hooks : `useAuth`, `useProjectData`, `useFirestoreQuery`

---
